<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Space Truckers v2 ðŸš›ðŸš€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="color-scheme" content="dark light">
  </head>
  <body class="min-h-screen bg-neutral-950 text-neutral-100">
    <div class="max-w-6xl mx-auto p-4 md:p-8">
      <header class="flex items-center justify-between mb-6">
        <h1 class="text-3xl md:text-4xl font-bold">Space Truckers <span class="text-neutral-400">v2</span></h1>
        <div class="flex items-center gap-3">
          <label class="text-xs flex items-center gap-2">
            <input id="hardcore" type="checkbox" class="accent-indigo-600">
            Hardcore
          </label>
          <a href="https://github.com/" target="_blank" class="text-sm underline decoration-dotted">GitHub</a>
        </div>
      </header>

      <section class="grid md:grid-cols-3 gap-4 md:gap-6">
        <!-- Left: Company / Fleet -->
        <div class="md:col-span-1 space-y-4">
          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow transition-transform" id="company-card">
            <h2 class="text-xl font-semibold mb-2">Company</h2>
            <div class="text-sm space-y-1">
              <div>Day: <span id="ui-day" class="font-mono">1</span></div>
              <div>Credits: <span id="ui-credits" class="font-mono">5,000</span></div>
              <div>Fuel Price: <span id="ui-fuel-price" class="font-mono">4</span> cr/u</div>
              <div>Reputation: <span id="ui-rep" class="font-mono">0</span></div>
            </div>
            <div class="mt-3 flex flex-wrap gap-2">
              <button id="next-day" class="px-3 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500">Next Day</button>
              <button id="random-event" class="px-3 py-2 rounded-xl bg-neutral-700 hover:bg-neutral-600">Event</button>
              <button id="auto-save" class="px-3 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-600">Auto-save</button>
            </div>
          </div>

          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-2">Fleet</h2>
            <div id="fleet-list" class="space-y-2"></div>
            <div class="mt-3 flex gap-2">
              <button id="buy-ship" class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500">Buy Ship (2,000)</button>
              <button id="sell-ship" class="px-3 py-2 rounded-xl bg-rose-600 hover:bg-rose-500">Sell</button>
            </div>
          </div>

          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-2">Leaderboard</h2>
            <div id="lb-list" class="text-sm space-y-1"></div>
            <div class="mt-3 flex gap-2">
              <input id="player-name" placeholder="Your name" class="bg-neutral-800 rounded-xl px-3 py-2 w-full outline-none focus:ring-2 ring-indigo-600" />
              <button id="submit-score" class="px-3 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 shrink-0">Submit</button>
            </div>
          </div>
        </div>

        <!-- Middle: Contracts -->
        <div class="md:col-span-1 space-y-4">
          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-3">Contracts</h2>
            <div id="contracts" class="space-y-3"></div>
            <div class="mt-3 flex gap-2">
              <button id="refresh-contracts" class="px-3 py-2 rounded-xl bg-neutral-700 hover:bg-neutral-600">Refresh</button>
            </div>
          </div>
          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-2">Market</h2>
            <div class="grid grid-cols-2 gap-2">
              <button id="refuel" class="px-3 py-2 rounded-xl bg-amber-600 hover:bg-amber-500">Refuel All</button>
              <button id="repair" class="px-3 py-2 rounded-xl bg-sky-600 hover:bg-sky-500">Repair All</button>
            </div>
          </div>
        </div>

        <!-- Right: Log + Save/Load -->
        <div class="md:col-span-1 space-y-4">
          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-2">Operations Log</h2>
            <div id="log" class="text-sm h-80 overflow-auto space-y-2 pr-2"></div>
          </div>

          <div class="bg-neutral-900/70 rounded-2xl p-4 shadow">
            <h2 class="text-xl font-semibold mb-2">Save & Load</h2>
            <div class="flex items-center gap-2 mb-2">
              <label class="text-sm">Slot</label>
              <select id="save-slot" class="bg-neutral-800 rounded-xl px-3 py-2">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
              <button id="save-game" class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500">Save</button>
              <button id="load-game" class="px-3 py-2 rounded-xl bg-neutral-700 hover:bg-neutral-600">Load</button>
            </div>
            <p class="text-xs text-neutral-400">Saves are stored in SQLite and persist across restarts (local volume or Railway volume required).</p>
          </div>
        </div>
      </section>

      <footer class="mt-8 text-xs text-neutral-400">
        v2: persistence + advanced events. Try Hardcore for a tougher run, then submit your best score!
      </footer>
    </div>

    <script src="/static/js/game.js"></script>
  </body>
</html>
